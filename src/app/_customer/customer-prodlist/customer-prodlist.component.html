<div class="header-txt">
    <div>
        <h1>Welcome to <b>Romel's Store.</b></h1>
        <h3>Take a look into our offered products below:</h3>
    </div>
    <div>
        <mat-button-toggle-group name="displayOption" aria-label="Option" value="grid">
            <mat-button-toggle value="table" (click)="isTableView=true"><mat-icon>table_chart</mat-icon></mat-button-toggle>
            <mat-button-toggle value="grid" (click)="isTableView=false"><mat-icon>grid_on</mat-icon></mat-button-toggle>
        </mat-button-toggle-group>
    </div>
</div>

<div style="display: flex;" class="filter-bar">
    <mat-form-field appearance="standard">
        <mat-label>Search for an item:</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Titan" #input>
    </mat-form-field>
</div>

<div class="mat-elevation-z8" [hidden]="!isTableView">
    <table mat-table [dataSource]="products" matSort>
        <!-- Name column -->
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
            <td mat-cell *matCellDef="let row"> {{row.name}} </td>
        </ng-container>
        <!-- Description column -->
        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
            <td mat-cell *matCellDef="let element"> {{element.description}} </td>
        </ng-container>
        <!-- Price column -->
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Price</th>
            <td mat-cell *matCellDef="let element"> {{element.price}} </td>
        </ng-container>
        <!-- Category column -->
        <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
            <td mat-cell *matCellDef="let element"> {{element.category.name}} </td>
        </ng-container>
        <!-- Image column -->
        <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Image</th>
            <!-- <td mat-cell *matCellDef="let element" > {{element.imagePath}} </td> -->
            <mat-cell *matCellDef="let element">
                <img [src]="element.imagePath" />
            </mat-cell>
        </ng-container>
        <!-- Availability column -->
        <ng-container matColumnDef="availability">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Availability</th>
            <td mat-cell *matCellDef="let element"> {{element.availability}} </td>
        </ng-container>
        
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
        </tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of products"></mat-paginator>
</div>

<!-- Grid View -->
<div class="mat-elevation-z8" [hidden]="isTableView">

    <mat-grid-list cols="5" rowHeight="250px" gutterSize="5px" role="grid" *ngIf="this.products.filteredData.length>0 else noData">
        <mat-grid-tile class="mat-elevation-z1" *ngFor="let product of this.products.filteredData">
            <mat-card class="product_card" (click)="onProdSelect(product)">
                <div class="img-container"><img mat-card-image [src]="product.imagePath"></div>
                <mat-card-content>
                    <div><b>{{product.name}}</b></div>
                    <div class="info2"><div><mat-icon class="{{product.availability}}">indeterminate_check_box</mat-icon>{{product.availability}}</div><div class="price"><span>&#8369;</span>{{product.price}}</div></div>
                </mat-card-content>
            </mat-card>
        </mat-grid-tile>
    </mat-grid-list>
    <!-- NO data     -->
    <ng-template #noData>
        <div>No data matching the filter "{{input.value}}"</div>
    </ng-template>
</div>
<!-- <div class="mat-elevation-z8" [hidden]="!isTableView">
    <table mat-table [dataSource]="products" matSort role="grid">
        <!-- Name column
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
            <td mat-cell *matCellDef="let row"> {{row.name}} </td>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="['name']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['name'];"></tr>

        <!-- Row shown when there is no matching data. 
        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
        </tr>
    </table>
</div>

 -->
